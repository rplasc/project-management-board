<div class="modal-overlay" *ngIf="isOpen" (click)="onClose()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h2>{{ modalTitle }}</h2>
      <button class="close-button" (click)="onClose()">&times;</button>
    </div>

    <div class="modal-body">
      <form>
        <div class="form-group">
          <label for="name">Name *</label>
          <input 
            type="text" 
            id="name" 
            [(ngModel)]="form.name" 
            name="name"
            placeholder="Enter ticket name"
            [class.error]="nameError"
            required
          />
          <div class="error-message" *ngIf="nameError">{{ nameError }}</div>
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <textarea 
            id="description" 
            [(ngModel)]="form.description" 
            name="description"
            rows="4"
            placeholder="Enter ticket description (optional)"
          ></textarea>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="category">Category *</label>
            <select id="category" [(ngModel)]="form.category" name="category" required>
              <option *ngFor="let cat of categories" [value]="cat">
                {{ getCategoryLabel(cat) }}
              </option>
            </select>
          </div>

          <div class="form-group">
            <label for="status">Status *</label>
            <select id="status" [(ngModel)]="form.status" name="status" required>
              <option *ngFor="let stat of statuses" [value]="stat">
                {{ getStatusLabel(stat) }}
              </option>
            </select>
          </div>
        </div>
      </form>
    </div>

    <div class="modal-footer">
      <button class="btn btn-secondary" (click)="onClose()">Cancel</button>
      <button 
        *ngIf="isEditMode" 
        class="btn btn-danger" 
        (click)="onDelete()"
      >
        Delete
      </button>
      <button class="btn btn-primary" (click)="onSave()">
        {{ isEditMode ? 'Save' : 'Create' }}
      </button>
    </div>
  </div>
</div>